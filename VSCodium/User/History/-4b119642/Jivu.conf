# ===================================================================
# Gentoo make.conf — Otimizado para Lenovo IdeaPad 1i (i3-1215U)
# Versão: 2.0 (Refinada após a instalação completa)
# ===================================================================
# CPU: 12th Gen Intel Core i3-1215U (6 cores, 8 threads)
# GPU: Intel UHD Graphics
# WM: Wayland / Hyprland
# ===================================================================

# Flags de compilação otimizadas para a CPU local
COMMON_FLAGS="-march=native -O2 -pipe"
CFLAGS="${COMMON_FLAGS}"
CXXFLAGS="${COMMON_FLAGS}"
FCFLAGS="${COMMON_FLAGS}"
FFLAGS="${COMMON_FLAGS}"

# Paralelismo de compilação — Usa todas as 8 threads do CPU
MAKEOPTS="-j8"
EMERGE_DEFAULT_OPTS="--jobs=8 --load-average=8"

# Aceita todas as licenças
ACCEPT_LICENSE="*"

# Drivers de vídeo e entrada
VIDEO_CARDS="intel"
INPUT_DEVICES="libinput"

# USE flags — Ambiente desktop moderno (Wayland + systemd + PipeWire)
# Nota: "pulseaudio" é necessário para a compatibilidade, mesmo usando PipeWire.
USE="alsa bluetooth networkmanager ffmpeg gstreamer pulseaudio systemd wayland X xwayland dbus -elogind -consolekit -jack"

# Plataforma de boot (EFI 64 bits)
GRUB_PLATFORMS="efi-64"

# Mensagens do Portage em inglês (melhor para depuração)
LC_MESSAGES=C.utf8

# (Opcional) Deteção automática de flags de CPU para CPUs x86
# Descomente a linha abaixo se tiver o 'app-portage/cpuid2cpuflags' instalado
# CPU_FLAGS_X86="$(cpuid2cpuflags)"
