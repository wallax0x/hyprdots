# =========================================================
# Gentoo make.conf — Lenovo IdeaPad 1i (Intel Core i3-1215U)
# =========================================================
# CPU: 12th Gen Intel Core i3-1215U (6 cores, 8 threads)
# GPU: Intel UHD Graphics
# MEM: 4 GB RAM + swap
# WM: Wayland / Hyprland
# =========================================================

# Flags de compilação otimizadas para a CPU local
COMMON_FLAGS="-march=native -O2 -pipe"
CFLAGS="${COMMON_FLAGS}"
CXXFLAGS="${COMMON_FLAGS}"
FCFLAGS="${COMMON_FLAGS}"
FFLAGS="${COMMON_FLAGS}"

# Paralelismo de compilação — usa todos os núcleos disponíveis
# Se quiser limitar (para economizar RAM), use por exemplo: "-j6"
MAKEOPTS="-j$(nproc)"

# Opções padrão do Portage (compilação paralela)
EMERGE_DEFAULT_OPTS="--jobs=$(nproc) --load-average=$(nproc)"

# Aceita todas as licenças (pode ajustar conforme política pessoal)
ACCEPT_LICENSE="*"

# Drivers de vídeo e entrada
VIDEO_CARDS="intel"
INPUT_DEVICES="libinput"

# USE flags — ambiente desktop moderno (Wayland + systemd + PipeWire)
USE="alsa bluetooth networkmanager ffmpeg gstreamer jack pipewire systemd wayland X -pulseaudio -elogind -consolekit xwayland dbus"

# Plataforma de boot (EFI 64 bits)
GRUB_PLATFORMS="efi-64"

# Mensagens do Portage em inglês (melhor para depuração)
LC_MESSAGES=C.utf8

# =========================================================
# Notas:
# - Usa systemd (elogind e consolekit desativados)
# - Áudio via PipeWire (pulseaudio desativado)
# - Otimização nativa para CPU Intel 12ª Geração
# - Compilação paralela automática baseada em nº de threads
# - Configuração estável para desktop com Wayland/Hyprland
# =========================================================
